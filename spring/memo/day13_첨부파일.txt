파일 업로드 방식
	
	- <form>태그를 이용하는 방식 -> 화면이동을 하는 방법

	- Ajax를 이용하는 방식 

	- <iframe>을 이용하여 화면의 이동 없이 첨부파일을 처리하는 방식 (이건 잘 안쓴다)
		* iframe은 브라우저안에 또다른 브라우저를 띄우는 법. 하지만 많은 랜더링이 쓰여서 느리다
		* 또한 보안 때문에 막아놓은 사이트들이 많다. 즉, 잘안쓰인다. 

파일 업로드 API

	- cos.jar (jsp 프로젝트때 썼던 API)
		* 2002년도 이후로 더이상 이 라이브러리 업데이트가 안되었음
		* 즉, 구형 api다. 개발이 종료되었다. 더 이상 사용하지 않는 것을 권장함.

	- commons-fileupload
		* 일반적으로 많이 활용되며, 서블릿 3.0 이전에도 사용 가능

	- 서블릿 3.0 이상 부터는 API상에서 그냥 지원이된다. 즉, 포함이 되어있다. 
		* 즉, 라이브러리를 쓰지 않고도 multipart를 사용해서 첨부파일을 사용할 수 있다. 
		* 서블릿 버전을 올리면 사용가능하다. 

---------
수정내역 
web.xml 
	- 4번째 라인 수정 -> 
	- version 수정 및 29번째 라인~ 파일 업로드 할 수 있는 설정들 

servlet-context도 설정해줘야한다 -> 
	- multipartresolver 객체를 만들어줘야한다. 

------------

서블릿은 사용자의 요청. 즉 이 서블릿을 통해 url로 요청이 들어온다.
서블릿 설정을 통해 멀티파트 객체를 가져올 수 있도록 함 

-------------
Ajax 사용 하는 법 

-------------

 

* 문제점 및 해결 방안

1. 동일한 이름으로 파일이 업로드 되었을 때 기존 파일이 사라지는 문제 (덮어 씌워진다.)
	- 폴더를 만들어서 날짜별 정렬되도록 만들었음 (getFolder메소드 )


	- 중복 방지를 위한 UUID (universally unique identifier) 범용 고유 식별자 적용
	
		UUID : 네트워크 상에서 각각의 객체들을 식별하기 위하여 사용되었다. 
			중복될 가능성이 거의 없다고 인정되기 때문에 많이 사용된다. 

		UUID 개수 : 어마어마하게 많다. 10의38승. 그렇기에 확률상 중복될 가능성이 없다!
			그렇기에 범용적으로 사용되는 식별자다. 



2. 첨부파일 공격에 대비하기 위한 업로드 파일의 확장자 제한 
		-> 정규식 사용 (반복문보다 훨씬 빠르다)
		-> jsp에서 따로 function을 빼서 해결 

3. 이미지 원본 파일 용량이 큰 경우 썸네일 이미지를 생성해야 한다. 
	- 썸네일 만드는 이유
		1. 용량 줄이기
		2. 미리보기 
		3. 해상도

	- 썸네일 이미지 생성
		용량이 큰 파일을 모바일과 같은 환경에서 처리한다면 많은 데이터를 소비해야 한다. 
		따라서 특별한 경우가 아니라면 썸네일을 제작해야 한다. 
		하나의 이미지팡일을 업로드하면 Application에서 사용되는 다양한 해상도 썸네일로
		만들어 낼 수 있으며, 다운로드 하지 않고도 미리보기가 가능해진다. 

	-라이브러리 : thumbnaillator 라는 걸 쓸것이다. 
		-> pom.xml에 추가해야한다. 


4. 이미지 파일과 일반 파일을 구분해서 다운로드를 처리해야 하는 문제 














